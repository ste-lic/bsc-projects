DROP ALL OBJECTS;

CREATE TABLE FILMATO(ID INT PRIMARY KEY, NOME VARCHAR(255),DATA VARCHAR(255),DIMENSIONE INTEGER, DURATA INTEGER);
CREATE TABLE SERVIZIOTV(NOME VARCHAR(255)PRIMARY KEY,TIPOLOGIA VARCHAR(2));
CREATE TABLE SERVIZI_FILMATI(ID INT PRIMARY KEY , NOME_SERVIZIO_TV VARCHAR(255), ID_FILMATO INT);
CREATE TABLE CLIENTE(EMAIL  VARCHAR(255) PRIMARY KEY, NOME VARCHAR(255),COGNOME VARCHAR(255),INDIRIZZO  VARCHAR(255),ABILITAZIONE VARCHAR(2));

CREATE SEQUENCE FILMATI_SEQUENCE START WITH 1   INCREMENT BY 1   MINVALUE 1;
CREATE SEQUENCE SERVIZI_FILMATI_SEQUENCE START WITH 1   INCREMENT BY 1   MINVALUE 1;




INSERT INTO  FILMATO VALUES(nextval('FILMATI_SEQUENCE'), 'Hello','23/12/2019',90,20);
INSERT INTO FILMATO VALUES(nextval('FILMATI_SEQUENCE'), 'MARADONA1','23/12/2020',90,20);




INSERT INTO  CLIENTE VALUES('paolorusso@gmail.com', 'Paolo', 'Russo', 'Via Roma', 'si');
INSERT INTO  CLIENTE VALUES('forzaNapoli@libero.it','Vito','Romano','Via Claudio', 'si');
INSERT INTO  CLIENTE VALUES('giacomoRossi12.com','Giacomo','Rossi','Via Salerno', 'no');
INSERT INTO  CLIENTE VALUES('Ste_Mara@libero.it','Stefano','Marano','Via Milano', 'si');



INSERT INTO  SERVIZIOTV VALUES ('MARADONA', 's');

INSERT INTO  SERVIZIOTV VALUES ('CAPRI', 's');

INSERT INTO  SERVIZIOTV VALUES ('ROMA', 's');

INSERT INTO  SERVIZIOTV VALUES ('LA PIZZA', 's');

INSERT INTO  SERVIZIOTV VALUES ('IL MONDO', 'p');



SELECT NOME, COGNOME, EMAIL FROM CLIENTE WHERE ABILITAZIONE='si';


ALTER TABLE SERVIZI_FILMATI ADD FOREIGN KEY(NOME_SERVIZIO_TV) REFERENCES SERVIZIOTV(NOME);
ALTER TABLE SERVIZI_FILMATI ADD FOREIGN KEY(ID_FILMATO) REFERENCES FILMATO(ID);







